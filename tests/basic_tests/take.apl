⍝ ---------------------------------------------
⍝ Take operations on arrays of different ranks
⍝ ---------------------------------------------

⍝ Normal take
V1 ← 3 ↑ 1 2 3 4      ⍝ -->   1 2 3
T1 ← ∧/V1=1 2 3

⍝ Normal overtake
V2 ← 6 ↑ 1 2 3 4      ⍝ -->   1 2 3 4 0 0
T2 ← ∧/V2=1 2 3 4 0 0

⍝ Multi-dimensional take
X ← 2 ↑ 4 5 ⍴ ⍳ 20   ⍝ -->   1  2  3  4  5
                     ⍝       6  7  8  9 10
M1 ← 10 - X
T3 ← ∧/∧/M1=2 5 ⍴ 9 8 7 6 5 4 3 2 1 0

⍝ Multi-dimensional overtake
M2 ← 4 ↑ 2 5 ⍴ ⍳ 8    ⍝ -->   1 2 3 4 5
                      ⍝       6 7 8 1 2
                      ⍝       0 0 0 0 0
                      ⍝       0 0 0 0 0
T4 ← ∧/∧/M2=4 5 ⍴ 1 2 3 4 5 6 7 8 1 2 0 0 0 0 0 0 0 0 0 0

⍝ Test of negative take
V5 ← ¯2 ↑ 1 2 3 4 5   ⍝ -->   4 5
T5 ← ∧/V5=4 5

M6 ← ¯2 ↑ 4 2 ⍴ ⍳ 8   ⍝ -->   5 6
                      ⍝       7 8
T6 ← ∧/∧/M6=2 2 ⍴ 5 6 7 8

⍝ Test of undertake
V7 ← ¯6 ↑ 1 2 3 4     ⍝ -->   0 0 1 2 3 4
T7 ← ∧/V7=0 0 1 2 3 4

M8 ← ¯6 ↑ 4 2 ⍴ ⍳ 8   ⍝ -->   0 0
                      ⍝       0 0
                      ⍝       1 2
                      ⍝       3 4
                      ⍝       5 6
                      ⍝       7 8
T8 ← ∧/∧/M8=6 2 ⍴ 0 0 0 0 1 2 3 4 5 6 7 8

⍝ Take from zilde

V9 ← 3 ↑ ⍬            ⍝ -->   [3](0,0,0)
T9 ← ∧/V9=0 0 0

V10 ← ¯3 ↑ ⍬          ⍝ -->   [3](0,0,0)
T10 ← ∧/V10=0 0 0

⍝ zero-takes

V11 ← 0 ↑ 1 2 3 4      ⍝ -->   [0]()
T11 ← (0=≢V11) ∧ ∧/0=⍴ V11

V12 ← 0 ↑ 4 2 ⍴ ⍳ 8    ⍝ -->   [0,2]()
T12 ← (0=≢V12) ∧ ∧/0 2=⍴ V12

V13 ← 0 ↑ ⍬            ⍝ -->   [0]()
T13 ← (0=≢V13) ∧ ∧/0=⍴ V13

⍝ take from scalars

V14 ← 3 ↑ 23           ⍝ -->   [3](23,0,0)
T14 ← ∧/V14=23 0 0

V15 ← ¯3 ↑ 23          ⍝ -->   [3](0,0,23)
T15 ← ∧/V15=0 0 23

V16 ← 1 ↑ 23           ⍝ -->   [1](23)
T16 ← ∧/V16=23

V17 ← ¯1 ↑ 23          ⍝ -->   [1](23)
T17 ← ∧/V17=23

V18 ← 0 ↑ 23           ⍝ -->   [0]()
T18 ← 1=⊃⍴⍴V18 

T19 ← 0=⊃⍴⍴3
T ← T1 T2 T3 T4 T5 T6 T7 T8 T9 T10 T11 T12 T13 T14 T15 T16 T17 T18 T19

⍝ ⎕ ← T

+/T
